const popupFeedback=document.querySelector(".modal-feedback"),openFeedbackButton=document.querySelector(".contacts-button"),closePopupButton=popupFeedback.querySelector(".modal-close"),feedbackForm=document.querySelector(".feedback-form"),feedbackName=document.querySelector(".feedback-name-field"),feedbackEmail=document.querySelector(".feedback-email-field"),feedbackMessage=document.querySelector(".feedback-message-field");let isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("Name"),storageEmail=localStorage.getItem("Email")}catch(e){isStorageSupport=!1}openFeedbackButton.addEventListener("click",function(e){e.preventDefault(),popupFeedback.classList.add("modal-show"),storageName?(feedbackName.value=storageName,feedbackEmail.focus(),storageEmail&&(feedbackEmail.value=storageEmail,feedbackMessage.focus())):feedbackName.focus()}),closePopupButton.addEventListener("click",function(){popupFeedback.classList.remove("modal-show"),popupFeedback.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(popupFeedback.classList.remove("modal-show"),popupFeedback.classList.remove("modal-error"))}),feedbackForm.addEventListener("submit",function(e){feedbackName.value&&feedbackEmail.value&&feedbackMessage.value?isStorageSupport&&(localStorage.setItem("Name",feedbackName.value),localStorage.setItem("Email",feedbackEmail.value)):(e.preventDefault(),popupFeedback.classList.remove("modal-error"),popupFeedback.offsetWidth=popupFeedback.offsetWidth,popupFeedback.classList.add("modal-error"))});const popupMap=document.querySelector(".modal-map"),openMapButton=document.querySelector(".map-preview-link"),closeMapPopupButton=popupMap.querySelector(".modal-close");openMapButton.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.add("modal-show")}),closeMapPopupButton.addEventListener("click",function(){popupMap.classList.remove("modal-show")}),document.addEventListener("keydown",function(e){27===e.keyCode&&popupMap.classList.remove("modal-show")});
